(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{3520:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/how-this-site-works",function(){return s(4694)}])},4694:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return h}});var i=s(5893),t=s(1822),n=s.n(t),o=s(9008),r=s.n(o),d=s(1664),l=s.n(d),c=s(5291),m=s.n(c);function h(){return(0,i.jsxs)("div",{className:"jsx-f0018d1697a31206 "+(m().container||""),children:[(0,i.jsxs)(r(),{children:[(0,i.jsx)("title",{className:"jsx-f0018d1697a31206",children:"Site Architecture"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-f0018d1697a31206"})]}),(0,i.jsxs)("main",{className:"jsx-f0018d1697a31206",children:[(0,i.jsx)("h1",{className:"jsx-f0018d1697a31206 "+(m().title||""),children:"How This Site Works"}),(0,i.jsx)("img",{src:"https://i.postimg.cc/Mp0WXYWN/book-Site-3.png",alt:"Site Architecture",className:"jsx-f0018d1697a31206 circularImage"}),(0,i.jsx)("h3",{className:"jsx-f0018d1697a31206 "+(m().title3||""),children:"From The User Perspective:"}),(0,i.jsxs)("div",{className:"jsx-f0018d1697a31206 "+(m().normalWhiteText||""),children:[(0,i.jsxs)("p",{className:"jsx-f0018d1697a31206",children:["When the user accesses the website URL, either directly or through a link, Route 53 performs DNS resolution, directing the request to the nearest CloudFront edge location. ",(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),"CloudFront then, in turn, serves the website from the linked S3 bucket, where the Next.js application is hosted."]}),(0,i.jsx)("p",{className:"jsx-f0018d1697a31206",children:"The Next.js application includes connections to AWS Lambda functions both through direct function URLs and through an API Gateway fir the implementation of the necessary dynamic functionality, namely: sending emails and fetching/updating the website's view count."}),(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),(0,i.jsx)("p",{className:"jsx-f0018d1697a31206",children:(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"How The Emails Are Sent:"})}),(0,i.jsxs)("ul",{className:"jsx-f0018d1697a31206",children:[(0,i.jsxs)("li",{className:"jsx-f0018d1697a31206",children:[(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"User Interaction:"})," The user enters their email into a textbox and clicks the send button."]}),(0,i.jsxs)("li",{className:"jsx-f0018d1697a31206",children:[(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"Request to Lambda:"})," An HTTP request containing the email value is sent to the Lambda Function URL."]}),(0,i.jsxs)("li",{className:"jsx-f0018d1697a31206",children:[(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"Email Sending:"})," The Lambda function, using the Nodemailer module, sends the PDF to the provided email address while a loading pop-up window is displayed to the user."]}),(0,i.jsxs)("li",{className:"jsx-f0018d1697a31206",children:[(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"Feedback to User:"})," If the email was successfully sent, the loading pop-up window transitions to a success window. Otherwise, if there is an error, it shows an error window instead."]})]}),(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),(0,i.jsx)("p",{className:"jsx-f0018d1697a31206",children:(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"Website View Count Management:"})}),(0,i.jsxs)("ul",{className:"jsx-f0018d1697a31206",children:[(0,i.jsxs)("li",{className:"jsx-f0018d1697a31206",children:[(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"API call on Initialization:"})," Upon landing on the page, a REST API request is sent to AWS Lambda through an API Gateway."]}),(0,i.jsxs)("li",{className:"jsx-f0018d1697a31206",children:[(0,i.jsx)("b",{className:"jsx-f0018d1697a31206",children:"Update and Return:"})," The Lambda function fetches the current visitor count from DynamoDB as a local variable, increments it and both returns the updated value and updates the corresponding value in DynamoDB."]})]})]}),(0,i.jsx)("h3",{className:"jsx-f0018d1697a31206 "+(m().title3||""),children:"Infrastructure and CI/CD:"}),(0,i.jsx)("div",{className:"jsx-f0018d1697a31206 "+(m().normalWhiteText||""),children:(0,i.jsxs)("p",{className:"jsx-f0018d1697a31206",children:["Some of the Cloud infrastructure, like the S3 bucket itself, its assosciated CloudFront distribution was originally created and partially configured using a Terraform script. ",(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),'A CI/CD pipeline was then created for the population of the S3 bucket using GitHub Actions. A seperate "Production" GitHub repository with the Next.js files was then created. Then, the uploading of Next.js files into the S3 bucket is done with AWS CLI commands specified in a YAML file executed by GitHub Actions. This forms the crux of the CI/CD pipeline for the website, updating the S3 bucket whenever changes from the development repository are transferred over to the production repository.',(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),(0,i.jsx)("br",{className:"jsx-f0018d1697a31206"}),"(This was done manually in my case, though automation for the same can be done using a simple bash/powershell script.)"]})}),(0,i.jsx)("div",{className:"jsx-f0018d1697a31206 "+(m().finalSection||""),children:(0,i.jsx)(l(),{href:"/",children:"‚Üê Back to home"})})]}),(0,i.jsx)(n(),{id:"f0018d1697a31206",children:"main.jsx-f0018d1697a31206{font-family:Arial,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace;padding:3rem 0;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.description.jsx-f0018d1697a31206{margin:2rem 0;line-height:1.5;text-align:center}.backToHome.jsx-f0018d1697a31206{margin-top:3rem}.circularImage.jsx-f0018d1697a31206{width:57rem;height:35rem;-webkit-border-radius:2%;-moz-border-radius:2%;border-radius:2%;border:.2rem solid;margin:20px 0}@media(max-width:800px){.circularImage.jsx-f0018d1697a31206{width:85%;height:60%;-webkit-border-radius:5%;-moz-border-radius:5%;border-radius:5%;border:.2rem solid;margin:20px 0}}"})]})}},5291:function(e){e.exports={container:"Home_container__d256j",header:"Home_header__y2QYS",headerOut:"Home_headerOut__h750j",headerIn:"Home_headerIn__9MamD",header2:"Home_header2__xat9a",normalWhiteText:"Home_normalWhiteText__GSiaJ",finalSection:"Home_finalSection__qMwMT",navButton:"Home_navButton__CJnYb",emailContainer:"Home_emailContainer__iPaWq",emailInput:"Home_emailInput__Dj6qN",sendButton:"Home_sendButton__kNNkw",anew:"Home_anew__YUblr",thinPara:"Home_thinPara__3h__d",thinPara1:"Home_thinPara1__OTEFK",SampleDoc:"Home_SampleDoc__YhmRQ",title3:"Home_title3__43sod",downloadButton:"Home_downloadButton__GHDC0",title:"Home_title__hYX6j",boldAws:"Home_boldAws__Z587o",description:"Home_description__uXNdx",grid:"Home_grid__AVljO",card:"Home_card__E5spL",logo:"Home_logo__IOQAX"}}},function(e){e.O(0,[592,888,774,179],function(){return e(e.s=3520)}),_N_E=e.O()}]);