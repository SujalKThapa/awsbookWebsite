<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title class="jsx-f0018d1697a31206">Site Architecture</title><link rel="icon" href="/favicon.ico" class="jsx-f0018d1697a31206"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/c1629bc57dcb08f3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c1629bc57dcb08f3.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-2c16ac744b6cdea6.js" defer=""></script><script src="/_next/static/chunks/main-be89c515900796e7.js" defer=""></script><script src="/_next/static/chunks/pages/_app-753213cf38d40131.js" defer=""></script><script src="/_next/static/chunks/592-0714e5ce6f8a6494.js" defer=""></script><script src="/_next/static/chunks/pages/how-this-site-works-24713cb583d12338.js" defer=""></script><script src="/_next/static/fgxSwX4_J80ZIDhg2-f4z/_buildManifest.js" defer=""></script><script src="/_next/static/fgxSwX4_J80ZIDhg2-f4z/_ssgManifest.js" defer=""></script><style id="__jsx-f0018d1697a31206">main.jsx-f0018d1697a31206{font-family:Arial,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace;padding:3rem 0;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.description.jsx-f0018d1697a31206{margin:2rem 0;line-height:1.5;text-align:center}.backToHome.jsx-f0018d1697a31206{margin-top:3rem}.circularImage.jsx-f0018d1697a31206{width:57rem;height:35rem;-webkit-border-radius:2%;-moz-border-radius:2%;border-radius:2%;border:.2rem solid;margin:20px 0}@media(max-width:800px){.circularImage.jsx-f0018d1697a31206{width:85%;height:60%;-webkit-border-radius:5%;-moz-border-radius:5%;border-radius:5%;border:.2rem solid;margin:20px 0}}</style></head><body><div id="__next"><div class="jsx-f0018d1697a31206 Home_container__d256j"><main class="jsx-f0018d1697a31206"><h1 class="jsx-f0018d1697a31206 Home_title__hYX6j">How This Site Works</h1><img src="https://i.postimg.cc/Mp0WXYWN/book-Site-3.png" alt="Site Architecture" class="jsx-f0018d1697a31206 circularImage"/><h3 class="jsx-f0018d1697a31206 Home_title3__43sod">From The User Perspective:</h3><div class="jsx-f0018d1697a31206 Home_normalWhiteText__GSiaJ"><p class="jsx-f0018d1697a31206">When the user accesses the website URL, either directly or through a link, Route 53 performs DNS resolution, directing the request to the nearest CloudFront edge location. <br class="jsx-f0018d1697a31206"/><br class="jsx-f0018d1697a31206"/>CloudFront then, in turn, serves the website from the linked S3 bucket, where the Next.js application is hosted.</p><p class="jsx-f0018d1697a31206">The Next.js application includes connections to AWS Lambda functions both through direct function URLs and through an API Gateway fir the implementation of the necessary dynamic functionality, namely: sending emails and fetching/updating the website&#x27;s view count.</p><br class="jsx-f0018d1697a31206"/><p class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">How The Emails Are Sent:</b></p><ul class="jsx-f0018d1697a31206"><li class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">User Interaction:</b> The user enters their email into a textbox and clicks the send button.</li><li class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">Request to Lambda:</b> An HTTP request containing the email value is sent to the Lambda Function URL.</li><li class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">Email Sending:</b> The Lambda function, using the Nodemailer module, sends the PDF to the provided email address while a loading pop-up window is displayed to the user.</li><li class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">Feedback to User:</b> If the email was successfully sent, the loading pop-up window transitions to a success window. Otherwise, if there is an error, it shows an error window instead.</li></ul><br class="jsx-f0018d1697a31206"/><p class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">Website View Count Management:</b></p><ul class="jsx-f0018d1697a31206"><li class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">API call on Initialization:</b> Upon landing on the page, a REST API request is sent to AWS Lambda through an API Gateway.</li><li class="jsx-f0018d1697a31206"><b class="jsx-f0018d1697a31206">Update and Return:</b> The Lambda function fetches the current visitor count from DynamoDB as a local variable, increments it and both returns the updated value and updates the corresponding value in DynamoDB.</li></ul></div><h3 class="jsx-f0018d1697a31206 Home_title3__43sod">Infrastructure and CI/CD:</h3><div class="jsx-f0018d1697a31206 Home_normalWhiteText__GSiaJ"><p class="jsx-f0018d1697a31206">Some of the Cloud infrastructure, like the S3 bucket itself, its assosciated CloudFront distribution was originally created and partially configured using a Terraform script. <br class="jsx-f0018d1697a31206"/><br class="jsx-f0018d1697a31206"/>A CI/CD pipeline was then created for the population of the S3 bucket using GitHub Actions. A seperate &quot;Production&quot; GitHub repository with the Next.js files was then created. Then, the uploading of Next.js files into the S3 bucket is done with AWS CLI commands specified in a YAML file executed by GitHub Actions. This forms the crux of the CI/CD pipeline for the website, updating the S3 bucket whenever changes from the development repository are transferred over to the production repository.<br class="jsx-f0018d1697a31206"/><br class="jsx-f0018d1697a31206"/>(This was done manually in my case, though automation for the same can be done using a simple bash/powershell script.)</p></div><div class="jsx-f0018d1697a31206 Home_finalSection__qMwMT"><a href="/">‚Üê Back to home</a></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/how-this-site-works","query":{},"buildId":"fgxSwX4_J80ZIDhg2-f4z","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>